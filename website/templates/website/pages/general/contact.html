<!doctype html>
<html>
<!--
  Contact Page | Cannlytics Website
  Copyright (c) 2021-2022 Cannlytics

  Authors: Keegan Skeate <https://github.com/keeganskeate>
  Created: 1/6/2021
  Updated: 2/13/2024
  License: MIT License <https://github.com/cannlytics/cannlytics-website/blob/main/LICENSE>

-->
{% extends "website/index.html" %}
{% block title %}Contact | Cannlytics{% endblock %}
{% load static get_env %}
{% block page_css %}
  <style>
    body.dark .captcha-question {
      color: #f8f8f8;
    }
    body.dark .textinput {
      background: transparent;
      color: #f8f8f8;
    }
  </style>
{% endblock %}
{% block material %}
  <div class="contact container my-4 my-lg-5 px-5">

    <!-- Hero -->
    <div class="row featurette mt-5">
      <div class="col-md-7 order-2 order-lg-1">
        <h2 class="h1 serif text-gradient-reverse pb-3 mt-3 mb-0">
          Contact Us
        </h2>
        <p class="fs-6 double-line text-dark text-start text-muted mb-4">
          You're welcome to contact us anytime about anything. Please enter your contact information and message and the team will get back to you as soon as possible.
        </p>

        {% comment %} 
        TODO: Contact cards.
        Slack: https://cannlytics.slack.com/
        LinkedIn: 
        Meetup:
        Email: contact@cannlytics.com
        Phone: (828) 395-3954 {% endcomment %}

        {% comment %} <!-- Form -->
        <form
          id="contact-form"
          class="mt-4 pe-sm-5"
          action="{% url 'message' %}"
          method="post"
          onsubmit="return cannlytics.website.submitContactForm();"
        >

          <!-- CSRF Token -->
          {% csrf_token %}
          
          <!-- Name -->
          <div class="row mb-3">
            <label class="col-sm-2 col-form-label col-form-label-sm serif">
              Name
            </label>
            <div class="col-sm-10">
              <input
                id="name_input"
                type="text"
                class="form-control form-control-sm"
                name="name"
                spellcheck="false"
                type="text"
                value="{{ user.name }}"
              >
            </div>
          </div>

          <!-- Email -->
          <div class="row mb-3">
            <label class="col-sm-2 col-form-label col-form-label-sm serif">
              Email
            </label>
            <div class="col-sm-10">
              <input
                type="text"
                id="email_input"
                class="form-control form-control-sm"
                name="email"
                spellcheck="false"
                type="email"
                value="{{ user.email }}"
              >
            </div>
          </div>

          <!-- Topic -->
          <div class="row mb-3">
            <label class="col-sm-2 col-form-label col-form-label-sm serif">
              Topic
            </label>
            <div class="col-sm-10">
              <select
                id="topic_input"
                name="subject"
                class="form-select form-select-sm"
                aria-label="Topic"
                onchange="cannlytics.website.setContactFormTopic(this.value);"
              >
                <option selected value="general">General Inquiry</option>
                <option value="algorithms">Algorithm Development</option>
                <option value="lims">Cannlytics LIMS</option>
                <option value="coas">CoA Data Extraction</option>
                <option value="custom">Custom Development</option>
                <option value="join">Joining Cannlytics</option>
                <option value="metrc">Metrc Integration</option>
                <option value="partner">Partner with Cannlytics</option>
                <option value="data">Seeking Cannabis Data</option>
                <option value="economics">Seeking Economic Analysis</option>
                <option value="forecasting">Seeking Forecasting</option>
                <option value="paper">Submitting a Paper</option>
                <option value="analyses">Suggest Analyses</option>
                <option value="edit">Suggest Data Edit</option>
                <option value="regulations">Question about Regulations</option>
              </select>
            </div>
          </div>

          <!-- Message -->
          <div class="form-floating mb-3">
            <textarea
              id="message_input"
              name="message"
              class="form-control form-control-sm"
              placeholder=""
              style="height:250px"
            ></textarea>
            <label for="message_input" class="serif mb-3 text-dark">
              Message
            </label>
          </div>

          <!-- Submit with simple math check -->
          <div class="d-flex align-items-center justify-content-between mt-1">
            <div class="row">
              <label class="col col-8 col-form-label col-form-label-sm serif text-nowrap">
                ðŸ¤– Human Test: <span id="math-check-min"></span> + <span id="math-check-max"></span> =
              </label>
              <div class="col-sm-3">
                <input
                  id="math_input"
                  type="text"
                  class="form-control form-control-sm"
                  name="math_input"
                  spellcheck="false"
                  type="number"
                  min="0"
                  max="99"
                >
                <input id="math_total" name="math_total" class="visually-hidden">
              </div>
            </div>
            <input name="redirect" value="true" class="visually-hidden">
            <input
              class="btn btn-sm bg-gradient-green text-white ms-2"
              type="submit"
              value="Send message"
            >
          </div>

        </form> {% endcomment %}
      </div>

      <!-- Image -->
      <div class="col-md-5 order-1 order-lg-2 mb-3">
        <img
          src="{% static 'website/images/illustrations/cannlytics_office.svg' %}"
          width="100%"
        >
      </div>

    </div>

    <!-- Contact Cards -->
    <div class="row" id="contact-cards"></div>

  </div>
{% endblock %}

<!-- JavaScript -->
{% block page_js %}
<script>
   // cannlytics.website.initializeContactForm();
   function renderContactCard(title, link, description, emojiName) {
    const contactCard = document.createElement('div');
    contactCard.className = 'card col-5 m-3';
    const cardBody = document.createElement('div');
    cardBody.className = 'card-body bg-transparent text-dark markdown';

    const titleElement = document.createElement('h5');
    titleElement.className = 'card-title fs-4 fw-bold fancy-serif';
    const titleLink = document.createElement('a');
    titleLink.href = link;
    titleLink.textContent = title;
    titleElement.appendChild(titleLink);

    const descriptionElement = document.createElement('p');
    descriptionElement.className = 'card-text fs-6 lh-lg';
    descriptionElement.textContent = description;

    const imgDiv = document.createElement('img');
    imgDiv.src = `/images/emojies/${emojiName}.svg`;
    imgDiv.alt = title;
    imgDiv.style.width = '100px';
    imgDiv.style.height = '100px';
    imgDiv.className = 'float-start me-3';

    cardBody.appendChild(imgDiv);
    cardBody.appendChild(titleElement);
    cardBody.appendChild(descriptionElement);
    contactCard.appendChild(cardBody);
    document.getElementById("contact-cards").appendChild(contactCard);
  }

  // Initialize contact cards
  renderContactCard('Slack', 'https://cannlytics.slack.com/', 'Join our Slack community.', 'slack');
  renderContactCard('LinkedIn', 'https://linkedin.com/company/cannlytics', 'Connect with us on LinkedIn.', 'linkedin');
  renderContactCard('Meetup', 'https://meetup.com/cannabis-data-science', 'Meet us at upcoming events.', 'calendar');
  renderContactCard('Email', 'mailto:contact@cannlytics.com', 'Email us directly.', 'envelope');
  renderContactCard('Phone', 'tel:+18283953954', 'Give us a call.', 'telephone');
</script>
{% endblock %}

</html>
