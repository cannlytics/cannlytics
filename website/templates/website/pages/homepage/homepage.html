<!doctype html>
<html>
<!--
  Home Page | Cannlytics
  Copyright (c) 2021-2024 Cannlytics

  Authors: Keegan Skeate <https://github.com/keeganskeate>
  Created: 1/5/2021
  Updated: 2/25/2024
  License: MIT License <https://github.com/cannlytics/cannlytics-website/blob/main/LICENSE>
-->
{% extends "website/components/layout/dashboard.html" %}
{% load static %}
{% block title %}Cannlytics{% endblock %}
{% block dashboard_css %}

  <!-- D3 Charts -->
  <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>

  <!-- Page-specific style -->
  <style>
    .scrolling-wrapper {
      white-space: nowrap;
    }
    .card {
      display: inline-block;
      margin-right: 15px;
    }
    body {
      min-height: 100vh;
    }
    .main-content {
      transition: margin-left 0.3s;
      margin-left: 250px;
      height: 100vh;
    }
    .main-content.expanded-margin {
      margin-left: 200px;
    }
    .grid-view .card {
      width: calc(33.333% - 20px);
      margin: 10px;
    }
    .list-view .card {
      margin: 10px 0;
    }
    #sidebar {
      position: fixed;
      top: 0;
      left: 0;
      bottom: 0;
      width: 250px;
      display: flex;
      flex-direction: column;
      padding: 1rem;
      /*overflow-y: auto;*/
    }
    @media (max-width: 992px) {
      #sidebar {
        width: 100%;
        height: auto;
        position: relative;
      }
      body {
        padding-left: 0;
      }
    }
    #sidebar.collapsed {
      width: 80px;
    }
    #sidebar.collapsed .link-text,
    #sidebar.collapsed h2 {
      display: none;
    }
    #sidebar.collapsed .btn {
      width: 48px;
      height: 48px;
    }
    #sidebar.collapsed .sidebar-icon-collapsed {
      display: block !important;
    }
    #sidebar .sidebar-icon-collapsed {
      display: none;
    }
    #toggleSidebar {
      background-color: transparent;
      color: #333;
      border-color: transparent;
      /*position: absolute;
      right: 0;
      top: 10px;
      transform: translateX(100%);*/
      border-radius: 0.25rem;
      text-align: right;
    }
    #toggleSidebar:hover {
      border-color: #ccc;
    }
    #toggleSidebar .bi {
      font-weight: bold;
      font-size: 1.25rem;
    }
    .sidebar .nav {
      list-style-type: none;
      padding-left: 0;
    }
    .navbar-nav .nav-item {
      border-radius: 0.33rem;
    }
    #sidebar.collapsed {
      align-items: center !important;
    }
    body:not(.dark) #sidebar,
    body:not(.dark) #mobile-navigation,
    body:not(.dark) #main-banner,
    body:not(.dark) .main-content {
      background-color: #fbfbfc;
    }
    .input-group .form-control {
      border-left: 0;
      border-right: 0;
    }
    .input-group .btn-outline-secondary {
      border-color: #ced4da; /* Adjust based on your theme */
    }
    .input-group-text, .form-control, .btn-outline-secondary {
      border-color: #ced4da; /* Uniform border color */
    }
    .input-group > .btn-outline-secondary:not(:last-child), .input-group > .input-group-text:not(:last-child) {
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
    }
    .input-group > .btn-outline-secondary:not(:first-child), .input-group > .input-group-text:not(:first-child) {
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
    }
    #addButton.active i, #filterButton.active i {
      color: #00ff00; /* Bright green */
    }
  </style>

{% endblock %}
{% block dashboard %}

  <!-- Search Bar -->
  <div class="input-group my-3 w-75">
    <button class="btn btn-outline-secondary" type="button" id="addButton"><i class="bi bi-plus"></i></button>
    <input type="text" class="form-control" placeholder="Find your COA..." aria-label="Search">
    <button class="btn btn-outline-secondary" type="button" id="filterButton"><i class="bi bi-sliders"></i></button>
  </div>

  <!-- COAs List/Grid View -->
  <div class="btn-group" role="group" aria-label="View toggle">
    <button type="button" class="btn btn-secondary">List</button>
    <button type="button" class="btn btn-secondary">Grid</button>
  </div>

  <!-- COAs -->
  <div class="coa-container mt-3 grid-view d-flex flex-wrap">
    <div class="card" style="width: 18rem;">
      <img
        src="{% static 'website/images/logos/cannlytics_calyx_detailed.svg' %}"
        class="card-img-top"
        alt="COA"
        style="height:75px;;"
      >
      <div class="card-body markdown">
        <h5 class="card-title text-dark fs-5 serif">COA Name</h5>
        <p class="card-text fs-6 lh-sm">
          <small class="text-dark serif">
            Some quick example text to build on the card title and make up the bulk of the card's content.
          </small>
        </p>
      </div>
    </div>
    <!-- TODO: Infinitely scrolling list of COAs -->
  </div>


<!-- Old Homepage -->
  {% comment %} <div class="homepage pb-5 overflow-hidden"> {% endcomment %}

    <!-- Hero -->
    {% comment %} {% include "website/pages/homepage/components/hero.html" with hero=homepage.hero only %} {% endcomment %}

    <!-- Demo -->
    {% comment %} {% include "website/pages/homepage/components/demo.html" %} {% endcomment %}

    <!-- Wave -->
    {% comment %} <div class="wave small" >
      <svg viewBox="0 0 500 150" preserveAspectRatio="none">
        <path d="M3.58,140.29 C215.76,-58.05 343.30,228.11 573.55,-70.89 L500.00,150.00 L-34.23,201.48 Z"></path>
      </svg>
    </div> {% endcomment %}

    <!-- TODO: Datasets: Results, Strains, Licenses -->


    {% comment %} <!-- Live analytics -->
    {% include "website/pages/homepage/components/live_analytics.html" %}

    <!-- Newest Strains -->
    {% include "website/pages/homepage/components/newest_strains.html" %}

    <!-- Newest Results -->
    {% include "website/pages/homepage/components/newest_results.html" %}

    <!-- Newest Licenses -->
    {% include "website/pages/homepage/components/newest_licenses.html" %}
     {% endcomment %}


    <!-- TODO: Articles -->

    <!-- TODO: Service Promos -->



    <!-- Video Banner -->
    {% comment %} <div class="ground">
    {% include "website/components/banners/video_banner.html" %}
    </div> {% endcomment %}

    {% comment %} <!-- Wave -->
    <div class="wave small upside-down" >
      <svg viewBox="0 0 500 150" preserveAspectRatio="none">
        <path d="M3.58,140.29 C215.76,-58.05 343.30,228.11 573.55,-70.89 L500.00,150.00 L-34.23,201.48 Z"></path>
      </svg>
    </div> {% endcomment %}

    {% comment %}

    <!-- Future work: List Cannlytics products with links to each GitHub repository | card style
      - Cannlytics AI
      - Cannlytics API
      - Cannlytics App
      - Cannlytics Console
      - Cannlytics Engine
    -->
  
    {% endcomment %}

    <!-- List of Metrc Validations -->
    {% comment %} <div class="ground py-5">
      {% include "website/pages/homepage/components/metrc_state_list.html" with verifications=verifications only %}
    </div> {% endcomment %}

    <!-- Wave -->
    {% comment %} <div class="wave small upside-down" >
      <svg viewBox="0 0 500 150" preserveAspectRatio="none">
        <path d="M3.58,140.29 C215.76,-58.05 343.30,228.11 573.55,-70.89 L500.00,150.00 L-34.23,201.48 Z"></path>
      </svg>
    </div> {% endcomment %}

    <!-- List of contributors -->
    {% comment %} {% include "website/pages/homepage/components/contributors_promo.html" %} {% endcomment %}

    <!-- Call to Action -->
    {% comment %} {% include "website/pages/homepage/components/call_to_action.html" with app=app only %} {% endcomment %}

  {% comment %} </div> {% endcomment %}

{% endblock %}

<!-- Homepage JavaScript -->
{% block dashboard_js %}
{% comment %} <script>

  // Initialize the dashboard.
  cannlytics.website.initializeDashboard();

  // Example JavaScript to toggle 'active' class on buttons
  document.getElementById('addButton').addEventListener('click', function() {
    this.classList.toggle('active');
  });
  document.getElementById('filterButton').addEventListener('click', function() {
    this.classList.toggle('active');
  });

</script> {% endcomment %}

  {% comment %} <script>

    function CopyToClipboard(id) {
      /**
       * Copy a block of code to the clipboard.
       * @param {String} id An element ID with text contents.
       */
      if (window.getSelection) {
        if (window.getSelection().empty) { // Chrome
          window.getSelection().empty();
        } else if (window.getSelection().removeAllRanges) { // Firefox
          window.getSelection().removeAllRanges();
        }
      } else if (document.selection) { // IE
        document.selection.empty();
      }
      if (document.selection) {
        var range = document.body.createTextRange();
        range.moveToElementText(document.getElementById(id));
        range.select().createTextRange();
        document.execCommand('copy');
      } else if (window.getSelection) {
        var range = document.createRange();
        range.selectNode(document.getElementById(id));
        window.getSelection().addRange(range);
        document.execCommand('copy');
      }
    }

    // Optional: Re-code without jQuery.
    $('.copy-btn').on('click', function(event) {
      event.stopPropagation();
      event.stopImmediatePropagation();
      var block = $(`#${event.currentTarget.id}`).siblings()[0];
      var code = $(`#${block.id}`).find('.code-block')[0];
      CopyToClipboard(code.id);
    });

  </script> {% endcomment %}
{% endblock %}

</html>
