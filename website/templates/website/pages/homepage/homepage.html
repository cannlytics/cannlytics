<!doctype html>
<html>
<!--
  Home Page | Cannlytics
  Copyright (c) 2021-2024 Cannlytics

  Authors: Keegan Skeate <https://github.com/keeganskeate>
  Created: 1/5/2021
  Updated: 2/12/2024
  License: MIT License <https://github.com/cannlytics/cannlytics-website/blob/main/LICENSE>
-->
{% extends "website/index.html" %}
{% load static %}
{% block title %}Cannlytics{% endblock %}
{% block page_css %}

  <!-- D3 Charts -->
  <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>

  <!-- Page-specific style -->
  <style>
    .scrolling-wrapper {
      /* overflow-x: scroll; */
      /* overflow-y: hidden; */
      white-space: nowrap;
    }
    .card {
      display: inline-block;
      margin-right: 15px;
    }
    body {
      min-height: 100vh;
      /* padding-left: 250px; */
    }
    .main-content {
      /* margin-left: 200px; */
    }
    .grid-view .card {
        width: calc(33.333% - 20px);
        margin: 10px;
    }
    .list-view .card {
        margin: 10px 0;
    }
    #sidebar {
      position: fixed;
      top: 0;
      left: 0;
      bottom: 0;
      width: 250px;
      display: flex;
      flex-direction: column;
      padding: 1rem;
      overflow-y: auto; /* Ensures scrollability for small screens */
    }
    @media (max-width: 992px) {
      #sidebar {
        width: 100%;
        height: auto;
        position: relative;
      }
      body {
        padding-left: 0;
      }
    }
    #sidebar.collapsed {
      width: 80px;
    }
    #sidebar.collapsed .link-text,
    #sidebar.collapsed h2 {
      display: none;
    }
    #sidebar.collapsed .btn {
      width: 48px;
      height: 48px;
    }
    #sidebar.collapsed .sidebar-icon-collapsed {
      display: block !important; /* Show the icon when sidebar is collapsed */
    }
    #sidebar .sidebar-icon-collapsed {
      display: none; /* Hide the icon by default */
    }
    #toggleSidebar {
      background-color: transparent;
      color: #333; /* or any color you prefer */
      border-color: transparent;
      /*position: absolute;
      right: 0;
      top: 10px;
      transform: translateX(100%);*/
      border-radius: 0.25rem; /* Adjust for rounded corners if desired */
      text-align: right;
    }
    #toggleSidebar:hover {
      border-color: #ccc; /* color when hovered */
    }
    #toggleSidebar .bi {
      font-weight: bold; /* Bootstrap Icons don't directly support font-weight changes */
      font-size: 1.25rem; /* Larger icon size */
    }
    .sidebar .nav {
      list-style-type: none; /* Remove bullet points */
      padding-left: 0; /* Remove padding */
    }
    .navbar-nav .nav-item {
      border-radius: 0.33rem;
    }
  </style>

{% endblock page_css %}
{% block material %}

<!-- Mobile Navigation -->
<nav class="navbar navbar-expand-lg navbar-light bg-light d-lg-none">
  <div class="container-fluid">
    <a
      class="navbar-brand"
      href="{% url 'index' %}"
      aria-label="Cannlytics"
    >
      <img
        src="{% static 'website/images/logos/cannlytics_logo_with_text_light.svg' %}"
        class="light-only"
        height="24px"
        alt="Cannlytics"
      >
      <img
        src="{% static 'website/images/logos/cannlytics_logo_with_text_dark.svg' %}"
        class="dark-only"
        height="24px"
        alt="Cannlytics"
      >
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="#">COAs</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Strains</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Producers</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Retailers</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Reports</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Dashboard -->
<div class="d-flex">
  <div id="sidebar" class="bg-light p-3 d-flex flex-column">
    
    <!-- Logo -->
    <div class="sidebar-icon-collapsed d-none text-center mb-2">
      <a href="{% url 'index' %}" aria-label="Cannlytics">
        <img src="{% static 'website/images/logos/cannlytics_calyx_detailed.svg' %}" alt="Cannlytics" height="24px">
      </a>
    </div>

    <!-- Brand name -->
    <h2 class="fs-5">
      <a
        class="navbar-brand"
        href="{% url 'index' %}"
        aria-label="Cannlytics"
      >
        <img
          src="{% static 'website/images/logos/cannlytics_logo_with_text_light.svg' %}"
          class="light-only"
          height="24px"
          alt="Cannlytics"
        >
        <img
          src="{% static 'website/images/logos/cannlytics_logo_with_text_dark.svg' %}"
          class="dark-only"
          height="24px"
          alt="Cannlytics"
        >
      </a>
    </h2>

    <!-- Navigation -->
    <ul class="nav flex-column mb-auto markdown">
      <li class="nav-item">
        <a class="nav-link fs-6" href="#">
          <i class="bi bi-file-earmark-text me-1"></i> <span class="link-text serif">COAs</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link fs-6" href="#">
          <i class="bi bi-diagram-3 me-1"></i> <span class="link-text serif">Strains</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link fs-6" href="#">
          <i class="bi bi-people me-1"></i> <span class="link-text serif">Producers</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link fs-6" href="#">
          <i class="bi bi-shop me-1"></i> <span class="link-text serif">Retailers</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link fs-6" href="#">
          <i class="bi bi-graph-up me-1"></i> <span class="link-text serif">Reports</span>
        </a>
      </li>
    </ul>

    
    {% comment %} <!-- Bottom sidebar -->
    <div class="mt-auto pt-4">
      
      <!-- Theme button -->
      {% include "website/components/buttons/theme_toggle.html" %}

      <!-- Sign in button -->
      <div class="">
        <a
          type="button"
          class="btn btn-sm bg-gradient-orange text-white text-nowrap serif"
          data-bs-target="#sign-in-dialog"
          data-bs-toggle="modal"
        >
        Sign in
        </a>
      </div>

      <!-- User menu -->
      <div class="">
        {% include "website/components/menus/user_menu.html" %}
      </div>
  
    </div> {% endcomment %}

    <!-- Collapse button -->
    <button
      id="toggleSidebar"
      class="btn btn-outline-secondary text-secondary mb-3"
    >
      <i class="bi bi-chevron-left"></i>
    </button>

  </div>

  <!-- Main Dashboard -->
  <div class="main-content">

    <!-- Header -->
    {% include "website/components/layout/header.html" %}

      <!-- Search Bar (from previous example) -->
      <div class="input-group mb-3">
          <span class="input-group-text"><i class="bi bi-search"></i></span>
          <input type="text" class="form-control" placeholder="Find your COA..." aria-label="Search">
          <button class="btn btn-outline-secondary" type="button"><i class="bi bi-funnel"></i> Filters</button>
      </div>

      <!-- COAs List/Grid View -->
      <div class="btn-group" role="group" aria-label="View toggle">
          <button type="button" class="btn btn-secondary">List</button>
          <button type="button" class="btn btn-secondary">Grid</button>
      </div>

      <div class="coa-container mt-3 grid-view d-flex flex-wrap">
          <!-- Placeholder for COAs -->
          <div class="card" style="width: 18rem;">
              <img src="..." class="card-img-top" alt="...">
              <div class="card-body">
                  <h5 class="card-title">COA Name</h5>
                  <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                  <a href="#" class="btn btn-primary">Go somewhere</a>
              </div>
          </div>
          <!-- Repeat for other COAs -->
      </div>
  </div>
</div>


<!-- Old Homepage -->
  {% comment %} <div class="homepage pb-5 overflow-hidden"> {% endcomment %}

    <!-- Hero -->
    {% comment %} {% include "website/pages/homepage/components/hero.html" with hero=homepage.hero only %} {% endcomment %}

    <!-- Demo -->
    {% comment %} {% include "website/pages/homepage/components/demo.html" %} {% endcomment %}

    <!-- Wave -->
    {% comment %} <div class="wave small" >
      <svg viewBox="0 0 500 150" preserveAspectRatio="none">
        <path d="M3.58,140.29 C215.76,-58.05 343.30,228.11 573.55,-70.89 L500.00,150.00 L-34.23,201.48 Z"></path>
      </svg>
    </div> {% endcomment %}

    <!-- TODO: Datasets: Results, Strains, Licenses -->


    {% comment %} <!-- Live analytics -->
    {% include "website/pages/homepage/components/live_analytics.html" %}

    <!-- Newest Strains -->
    {% include "website/pages/homepage/components/newest_strains.html" %}

    <!-- Newest Results -->
    {% include "website/pages/homepage/components/newest_results.html" %}

    <!-- Newest Licenses -->
    {% include "website/pages/homepage/components/newest_licenses.html" %}
     {% endcomment %}


    <!-- TODO: Articles -->

    <!-- TODO: Service Promos -->



    <!-- Video Banner -->
    {% comment %} <div class="ground">
    {% include "website/components/banners/video_banner.html" %}
    </div> {% endcomment %}

    {% comment %} <!-- Wave -->
    <div class="wave small upside-down" >
      <svg viewBox="0 0 500 150" preserveAspectRatio="none">
        <path d="M3.58,140.29 C215.76,-58.05 343.30,228.11 573.55,-70.89 L500.00,150.00 L-34.23,201.48 Z"></path>
      </svg>
    </div> {% endcomment %}

    {% comment %}

    <!-- Future work: List Cannlytics products with links to each GitHub repository | card style
      - Cannlytics AI
      - Cannlytics API
      - Cannlytics App
      - Cannlytics Console
      - Cannlytics Engine
    -->
  
    {% endcomment %}

    <!-- List of Metrc Validations -->
    {% comment %} <div class="ground py-5">
      {% include "website/pages/homepage/components/metrc_state_list.html" with verifications=verifications only %}
    </div> {% endcomment %}

    <!-- Wave -->
    {% comment %} <div class="wave small upside-down" >
      <svg viewBox="0 0 500 150" preserveAspectRatio="none">
        <path d="M3.58,140.29 C215.76,-58.05 343.30,228.11 573.55,-70.89 L500.00,150.00 L-34.23,201.48 Z"></path>
      </svg>
    </div> {% endcomment %}

    <!-- List of contributors -->
    {% comment %} {% include "website/pages/homepage/components/contributors_promo.html" %} {% endcomment %}

    <!-- Call to Action -->
    {% comment %} {% include "website/pages/homepage/components/call_to_action.html" with app=app only %} {% endcomment %}

  {% comment %} </div> {% endcomment %}

  <!-- Vines -->
  {% comment %} {% include "website/components/art/vines.html" %} {% endcomment %}

{% endblock %}

<!-- Homepage JavaScript -->
{% block page_js %}
{{ block.super }}
<script>

  // Initialize the dashboard.
  cannlytics.website.initializeDashboard();

</script>

  {% comment %} <script>

    function CopyToClipboard(id) {
      /**
       * Copy a block of code to the clipboard.
       * @param {String} id An element ID with text contents.
       */
      if (window.getSelection) {
        if (window.getSelection().empty) { // Chrome
          window.getSelection().empty();
        } else if (window.getSelection().removeAllRanges) { // Firefox
          window.getSelection().removeAllRanges();
        }
      } else if (document.selection) { // IE
        document.selection.empty();
      }
      if (document.selection) {
        var range = document.body.createTextRange();
        range.moveToElementText(document.getElementById(id));
        range.select().createTextRange();
        document.execCommand('copy');
      } else if (window.getSelection) {
        var range = document.createRange();
        range.selectNode(document.getElementById(id));
        window.getSelection().addRange(range);
        document.execCommand('copy');
      }
    }

    // Optional: Re-code without jQuery.
    $('.copy-btn').on('click', function(event) {
      event.stopPropagation();
      event.stopImmediatePropagation();
      var block = $(`#${event.currentTarget.id}`).siblings()[0];
      var code = $(`#${block.id}`).find('.code-block')[0];
      CopyToClipboard(code.id);
    });

  </script> {% endcomment %}
{% endblock %}

</html>
