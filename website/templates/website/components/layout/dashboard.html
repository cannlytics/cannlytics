<!doctype html>
<html>
<!--
  Home Page | Cannlytics
  Copyright (c) 2021-2024 Cannlytics

  Authors: Keegan Skeate <https://github.com/keeganskeate>
  Created: 1/5/2021
  Updated: 2/25/2024
  License: MIT License <https://github.com/cannlytics/cannlytics-website/blob/main/LICENSE>
-->
{% extends "website/index.html" %}
{% load static %}
{% block title %}Cannlytics{% endblock %}
{% block page_css %}

  <!-- Dashboard style -->
  <style>
    .scrolling-wrapper {
      white-space: nowrap;
    }
    .card {
      display: inline-block;
      margin-right: 15px;
    }
    body {
      min-height: 100vh;
    }
    .main-content {
      transition: margin-left 0.3s;
      margin-left: 250px;
      min-height: 100vh;
    }
    @media (max-width: 992px) {
      .main-content {
        margin-left: 0;
      }
    }
    .main-content.expanded-margin {
      margin-left: 200px;
    }
    .grid-view .card {
      width: calc(33.333% - 20px);
      margin: 10px;
    }
    .list-view .card {
      margin: 10px 0;
    }
    #sidebar {
      position: fixed;
      top: 0;
      left: 0;
      bottom: 0;
      width: 250px;
      display: flex;
      flex-direction: column;
      padding: 1rem;
      /*overflow-y: auto;*/
    }
    @media (max-width: 992px) {
      #sidebar {
        width: 100%;
        height: auto;
        position: relative;
      }
      body {
        padding-left: 0;
      }
    }
    #sidebar.collapsed {
      width: 80px;
    }
    #sidebar.collapsed .link-text,
    #sidebar.collapsed h2 {
      display: none;
    }
    #sidebar.collapsed .btn {
      width: 48px;
      height: 48px;
    }
    #sidebar.collapsed .sidebar-icon-collapsed {
      display: block !important;
    }
    #sidebar .sidebar-icon-collapsed {
      display: none;
    }
    #toggleSidebar {
      background-color: transparent;
      color: #333;
      border-color: transparent;
      /*position: absolute;
      right: 0;
      top: 10px;
      transform: translateX(100%);*/
      border-radius: 2rem;
      text-align: right;
    }
    #toggleSidebar:hover {
      border-color: #ccc;
    }
    #toggleSidebar .bi {
      font-weight: bold;
      font-size: 1.25rem;
    }
    .sidebar .nav {
      list-style-type: none;
      padding-left: 0;
    }
    .nav .nav-link {
      border-radius: 2rem;
    }
    #sidebar.collapsed {
      align-items: center;
    }
    body:not(.dark) #sidebar,
    body:not(.dark) #mobile-navigation,
    body:not(.dark) #main-banner,
    body:not(.dark) .main-content {
      background-color: #fbfbfc;
    }
    .input-group .form-control {
      border-left: 0;
      border-right: 0;
    }
    .input-group .btn-outline-secondary {
      border-color: #ced4da; /* Adjust based on your theme */
    }
    .input-group-text, .form-control, .btn-outline-secondary {
      border-color: #ced4da; /* Uniform border color */
    }
    .input-group > .btn-outline-secondary:not(:last-child), .input-group > .input-group-text:not(:last-child) {
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
    }
    .input-group > .btn-outline-secondary:not(:first-child), .input-group > .input-group-text:not(:first-child) {
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
    }
    #addButton.active i, #filterButton.active i {
      color: #00ff00; /* Bright green */
    }
  </style>

{% endblock page_css %}
{% block material %}

<!-- Mobile Navigation -->
<nav
  id="mobile-navigation"
  class="navbar navbar-expand-lg navbar-light d-lg-none"
>
  <div class="container-fluid">
    <a
      class="navbar-brand"
      href="{% url 'index' %}"
      aria-label="Cannlytics"
    >
      <img
        src="{% static 'website/images/logos/cannlytics_logo_with_text_light.svg' %}"
        class="light-only"
        height="24px"
        alt="Cannlytics"
      >
      <img
        src="{% static 'website/images/logos/cannlytics_logo_with_text_dark.svg' %}"
        class="dark-only"
        height="24px"
        alt="Cannlytics"
      >
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="{% url 'page' page='coas' %}">COAs</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'page' page='strains' %}">Strains</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'page' page='producers' %}">Producers</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'page' page='retailers' %}">Retailers</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'page' page='labs' %}">Labs</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'page' page='reports' %}">Reports</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Dashboard -->
<div class="d-flex">
  <div id="sidebar" class="p-3 d-none d-lg-flex flex-column">
    
    <!-- Logo -->
    <div class="sidebar-icon-collapsed d-none text-center mb-2">
      <a href="{% url 'index' %}" aria-label="Cannlytics">
        <img src="{% static 'website/images/logos/cannlytics_calyx_detailed.svg' %}" alt="Cannlytics" height="24px">
      </a>
    </div>

    <!-- Brand name -->
    <h2 class="fs-5 ms-3">
      <a
        class="navbar-brand"
        href="{% url 'index' %}"
        aria-label="Cannlytics"
      >
        <img
          src="{% static 'website/images/logos/cannlytics_logo_with_text_light.svg' %}"
          class="light-only"
          height="30px"
          alt="Cannlytics"
        >
        <img
          src="{% static 'website/images/logos/cannlytics_logo_with_text_dark.svg' %}"
          class="dark-only"
          height="30px"
          alt="Cannlytics"
        >
      </a>
    </h2>

    <!-- Navigation -->
    <ul class="nav flex-column mb-auto markdown pt-2">
      <li class="nav-item">
        <a class="nav-link fs-6" href="{% url 'page' page='coas' %}">
          <i class="bi bi-file-earmark-text me-1"></i> <span class="link-text serif">COAs</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link fs-6" href="{% url 'page' page='compounds' %}">
          <i class="bi bi-diagram-2-fill me-1"></i> <span class="link-text serif">Compounds</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link fs-6" href="{% url 'page' page='strains' %}">
          <i class="bi bi-flower3 me-1"></i> <span class="link-text serif">Strains</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link fs-6" href="{% url 'page' page='producers' %}">
          <i class="bi bi-people me-1"></i> <span class="link-text serif">Producers</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link fs-6" href="{% url 'page' page='retailers' %}">
          <i class="bi bi-shop me-1"></i> <span class="link-text serif">Retailers</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link fs-6" href="{% url 'page' page='labs' %}">
          <i class="bi bi-moisture me-1"></i> <span class="link-text serif">Labs</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link fs-6" href="{% url 'page' page='reports' %}">
          <i class="bi bi-graph-up me-1"></i> <span class="link-text serif">Reports</span>
        </a>
      </li>
    </ul>

    <!-- Collapse button -->
    <div>
    <button
      id="toggleSidebar"
      class="btn btn-outline-secondary text-secondary mb-3"
    >
      <i class="bi bi-chevron-left"></i>
    </button>
  </div>

  </div>

  <!-- Main Dashboard -->
  <div class="main-content w-100 pb-5">

    <!-- Header -->
    {% include "website/components/layout/banner.html" %}

    <!-- Material -->
    <div id="dashboard">{% block dashboard %}{% endblock %}</div>
    
  </div>

</div>

{% endblock %}

<!-- Homepage JavaScript -->
{% block page_js %}
{{ block.super }}
<script>

  // Initialize the dashboard.
  cannlytics.website.initializeDashboard();

  {% comment %} // Example JavaScript to toggle 'active' class on buttons
  document.getElementById('addButton').addEventListener('click', function() {
    this.classList.toggle('active');
  });
  document.getElementById('filterButton').addEventListener('click', function() {
    this.classList.toggle('active');
  }); {% endcomment %}

</script>

{% endblock %}

</html>
